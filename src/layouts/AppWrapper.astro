<!-- ---
export const prerender = false;

import Layout from "./Layout.astro";
import { getUserData } from "../lib/getUserData";

// Cookie からユーザー情報を取得
const cookieHeader = Astro.request?.headers.get("cookie") ?? "";
const { authUser, accountName, projects } = await getUserData(cookieHeader);

// 未ログインの場合はリダイレクト
if (!authUser) {
  return Astro.redirect('/', 303); // サーバーサイドリダイレクト
}

// Propsの準備
const props = {
  ...Astro.props,
  accountName,
  projects,
};
---

<Layout {...props}>
  <slot />
</Layout> -->
